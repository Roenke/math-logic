\section{Формальная арифметика}

В заданиях, где требуется привести доказательство, нужно привести словесное описание доказательства.
Необходимо явно указать, где и какие аксиомы арифметики Пеано были использованы.
Все доказательства должны быть в интуиционистской логике.
\begin{enumerate}
	
\item Определите формулу $\varphi(x,y)$, задающую график функции $pred$, удовлетворяющей следующим условиям:
\begin{align*}
pred(0) & = 0 \\
pred(S(x)) & = x
\end{align*}
Докажите, что $\forall x \exists! y (\varphi(x,y))$

\textbf{Решение.}

Определим $\varphi(x, y)$ следующим образом:
\begin{equation*}
	\varphi(x, y) = [(x = 0 \land y = 0) \lor (x = S(y))]
\end{equation*}

Докажем для него утверждение $\psi(x) = \exists! y \ \varphi(x, y)$

Сделаем это по индукции:
\begin{itemize}
	\item База индукции $\psi(0)$
	\begin{equation*}
		\psi(0) = \exists! y \ [\varphi(0, y)] = \exists! y \ [((0 = 0 \land y = 0) \lor 0 = S(x))] = \exists! y 
		\ [(\top \land y = 0) \lor \bot] = \exists! y\ [y = 0]
	\end{equation*} 
	В силу уникальности $y = 0$ утверждение доказано.
	\item Индукционный переход. Допустим, мы знаем, что верно $\psi(x) = \exists! y \varphi(x, y)$. Покажем, что 
	верно $\psi(S(x))$
	\begin{align*}
		\psi(S(x)) = &\exists! z \ [(\varphi(S(x), z))] = \exists! z \ [(S(x) = 0 \land z = 0) \lor (S(x) = 
		S(z))]\\
		&\exists! z \ [(\bot \land z = 0) \lor (S(x) = S(z))] = \exists! z \ [(S(x) = S(z)] = \exists! z \ [x = z]
	\end{align*}
	
	Опять же, в силу уникальности $z = x$ утверждение доказано, а вместе с ним и индукция для $\psi(x)$. 
	
	
\end{itemize}

\item Докажите, что аксиомы для сложения определяют его уникальным образом.
    То есть если мы добавим в сигнатуру новый функциональный символ $+'$ и новые аксиомы
\begin{align*}
\forall y\ & 0 +' y = y \tag{$+'0$} \\
\forall x \forall y\ & S(x) +' y = S(x +' y) \tag{$+'S$},
\end{align*}
то в ней будет доказуема формула $\forall x \forall y\ (x + y = x +' y)$.

\textbf{Решение.} 

Чтобы доказать эту формулу (обозначим её $\varphi(x) = \forall y\ (x + y = x +' y)$). Нам достаточно показать, 
что $\varphi(0)$ верно, и $\forall x \ \varphi(x) \to \varphi(S(x))$. Покажем, что это действительно так.

$\varphi(0):$ 
\begin{equation*}
	\forall y \ (0 + y = 0 +' y) \to \forall y \ (y = y)
\end{equation*}
Выполнено.

Покажем второй пункт  $\forall x \ \varphi(x) \to \varphi(S(x))$:
\begin{equation*}
	\forall x (\forall y (x + y = x +' y) \to \forall y (S(x) + y = S(x) +' y))
\end{equation*}
Преобразуем $S(x) + y = S(x) +' y$:
\begin{equation*}
	S(x) + y = S(x) +' y \to S(x + y) = S(x +' y) \to x + y = x +' y
\end{equation*}
По индукционному предположению, последнее выражение верно, поэтому всё доказано.

\item Добавим в сигнатуру функциональные символы $exp$ и $fac$ для функций возведения в степень и факториала
соответственно.
    Напишите аксиомы для этих функциональных символов, определяющие их уникальным образом.

	\textbf{Решение.}
	\begin{align*}
		x \ exp \ 0 &= S(0)\\
		x \ exp \ S(y) &= x \cdot (x \ exp\ y) \\ 
		fac \ 0 &= S(0) \\
		fac \ S(x) &= S(x) \cdot fac\ x
	\end{align*}

\item Докажите следующие свойства:
\begin{enumerate}
\item $\forall x \forall y\ (x + y = 0 \to x = 0 \land y = 0)$.

\textbf{Решение.} 

Обозначим $\varphi(x) = \forall y (x + y = 0 \to x = 0 \land y = 0)$. Для доказательства этого утверждения 
достаточно показать, что верно $\varphi(0)$ и $\forall x (\varphi(x) \to \varphi(S(x))$.

$\varphi(0):$ 
\begin{equation*}
\forall y \ ((0 + y = 0) \to (0 = 0 \land y = 0)) \to \forall (y = 0 \to y = 0)
\end{equation*}
Выполнено.

Покажем второй пункт  $\forall x \ \varphi(x) \to \varphi(S(x))$:
\begin{equation*}
\forall x (\forall y [x + y = 0 \to x = 0 \land y = 0] \to \forall y [S(x) + y = 0 \to  = S(x) = 0 \land y = 0])
\end{equation*}

Рассмотрим выражение $S(x) + y = 0 \to  = S(x) = 0 \land y = 0$, Заметим, что оно преобразуется к виду $S(x + 
y) = 0 \to S(x) = 0 \land y = 0$, или что то же самое $\bot \to (S(x) = 0 \land y = 0)$. Которое очевидно 
верно, т.к. из $\bot$ может следовать любое утверждение. 

Значит верным является и $\forall x \ \varphi(x) \to \varphi(S(x))$, что вместе с $\varphi(0)$ доказывает 
исходное утверждение.

\item $\forall x \forall y\ (x \cdot y = 0 \to x = 0 \lor y = 0)$.

\textbf{Решение.} 

Обозначим $\varphi(x) = \forall y x \cdot y = 0 \to x = 0 \lor y = 0)$. Для доказательства этого утверждения 
достаточно показать, что верно $\varphi(0)$ и $\forall x (\varphi(x) \to \varphi(S(x))$.

$\varphi(0):$ 
\begin{equation*}
(\forall y \ 0 \cdot y = 0 \to 0 = 0 \lor y = 0) \to (\forall y [y = 0 \to \top]) \to \top 
\end{equation*}
Выполнено.

Покажем второй пункт  $\forall x \ \varphi(x) \to \varphi(S(x))$:
\begin{equation*}
\forall x (\forall y [x \cdot y = 0 \to x = 0 \lor y = 0] \to \forall y [S(x) \cdot y = 0 \to S(x) = 0 \lor y = 0])
\end{equation*}

Рассмотрим выражение $S(x) \cdot y = 0 \to S(x) = 0 \lor y = 0$, Заметим, что оно преобразуется к виду $y + xy = 
0 \to S(x) = 0 \lor y = 0$. Воспользуемся первым пунктом, тогда вместо этого выражения достаточно доказать: $y = 
0 \land xy = 0 \to S(x) = 0 \lor y = 0$. Заметим, что это действительно так: 
\begin{equation*}
(y = 0 \land xy = 0) \to (y = 0) \to (S(x) = 0 \lor y = 0)
\end{equation*}

Значит верным является и $\forall x \ \varphi(x) \to \varphi(S(x))$, что вместе с $\varphi(0)$ доказывает 
исходное утверждение.
\end{enumerate}

\item Докажите коммутативность сложения.

\textbf{Решение.} Нужно доказать, что.
\begin{equation*}
\forall x \forall y \ x + y = y + x
\end{equation*}

Выберем $\varphi(x) = \forall y \ x + y = y + x$. Докажем $\varphi(x)$ по индукции.

\begin{itemize}
	\item $\varphi(0) = \forall y \ 0 + y = y + 0$ Это утверждения тоже докажем по индукции $\psi(y) = 0 + y = y 
	+ 0$.
	\begin{itemize}
		\item База индукции очевидна: $0 + 0 = 0 = 0 + 0$.
		
		\item Докажем индукционный переход. $\forall y \ \psi(y) \to \psi(S(y))$.
		
		Пусть мы знаем, что верно $0 + y = y + 0$. Покажем, что $0 + S(y) = S(y) + 0$, воспользовавшись аксиомами 
		и индукционным предположением.
		\begin{equation*}
		0 + S(y) = S(y) = S(0 + y) = S(y + 0) = S(y) + 0
		\end{equation*}
		Доказано.
	\end{itemize}

	\item Осталось доказать индукционный переход. $\forall x \ (\varphi(x) \to \varphi(S(x)))$
	
	Пусть верно, что $x + y = y + x$. Нужно показать, что верно и $S(x) + y = y + S(x)$.
	
	Но сначала докажем вспомогательное утверждение $S(x) + y = x + S(y)$. Сделаем это точно так же по индукции.
	\begin{itemize}
		\item База $S(0) + y = 0 + S(y)$. Покажем, что это действительно так, воспользовавшись аксиомами и 
		утверждением из базы исходной индукции для коммутативности сложения:
		\begin{equation*}
			S(0) + y = S(0 + y) = S(y + 0) = S(y) + 0 = 0 + S(y)
		\end{equation*}
		База индукции доказана.
		\item Докажем индукционный переход. То есть, что верно утверждение $S(S(x)) + y = S(x) + S(y)$ в 
		предположении, что верно $S(x) + y = x + S(y)$. Покажем, что это действительно так, воспользовавшись 
		аксиомами и индукционным предположением:
		\begin{equation*}
			S(x) + S(y) = S(x + S(y)) = S(S(x) + y) = S(S(x)) + y
		\end{equation*}
		Доказано.
	\end{itemize}
	Теперь докажем индукционный переход для коммутативности сложения. То есть необходимо доказать, что $S(x) + y 
	= y + S(x)$. Воспользовались аксиомой, индукционным предположением и доказанным свойством:
	\begin{equation*}
		S(x) + y = S(x + y) = S(y + x) = S(y) + x = y + S(x)
 	\end{equation*}
\end{itemize}
Таким образом, сложение коммутативно.

\end{enumerate}
